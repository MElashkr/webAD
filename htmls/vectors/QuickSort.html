<!DOCTYPE html>
<html lang="en">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!-- Chrome, Firefox OS and Opera -->
<meta name="theme-color" content="#0063A6">
<!-- Windows Phone -->
<meta name="msapplication-navbutton-color" content="#0063A6">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-status-bar-style" content="#0063A6">

<!--[if !IE]><!-->
<title>WebAD 2.0 &#9829; </title>
<!--<![endif]-->

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#0063A6">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#0063A6">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-status-bar-style" content="#0063A6">

    <!-- BEGIN WEBAD STYLES -->
    <link href="../../styles/imgRD.css" rel="stylesheet" type="text/css" />
    <link href="../../styles/styleRD.css" rel="stylesheet" type="text/css" />
    <!-- END WEBAD STYLES -->
    <link href="../../layout/assets/global/css/components-md.css" id="style_components" rel="stylesheet" type="text/css" />
    <link href="../../layout/assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="../../layout/assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="../../layout/assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css"
        media="screen" />

    <!-- BEGIN THEME LAYOUT STYLES -->
    <link href="../../layout/css/layout.min.css" rel="stylesheet" type="text/css" />
    <link href="../../layout/css/themes/blue-steel.min.css" rel="stylesheet" type="text/css" />
    <!-- END THEME LAYOUT STYLES -->
    <link href="../../layout/css/adaptResponsive.css" rel="stylesheet" type="text/css" />

    <script src="../../layout/Jquery/js/Framework/jquery-1.11.0.min.js"></script>
    <script src="../../layout/assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="../../layout/Jquery/js/UI/jquery-ui-1.11.4/jquery-ui.min.js" type="text/javascript"></script>

    <script src="../../layout/assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js" type="text/javascript"></script>

    <script src="../../layout/assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>

    <!-- BEGIN THEME GLOBAL SCRIPTS -->
    <script src="../../layout/assets/global/scripts/app.min.js" type="text/javascript"></script>
    <!-- END THEME GLOBAL SCRIPTS -->
    <!-- BEGIN THEME LAYOUT SCRIPTS -->
    <script src="../../layout/assets/scripts/layout.min.js" type="text/javascript"></script>
    <script src="../../layout/assets/global/scripts/quick-sidebar.min.js" type="text/javascript"></script>
    <!-- END THEME LAYOUT SCRIPTS -->
    <script src="../../libs/externalLibs/kinetic-v5.1.0.min.js"></script>
    <script src="../../libs/views/vectors/quicksort.js"></script>
    <script src="../../libs/models/vectors/quicksort.js"></script>
    <!-- END JAVASCRIPTS -->

    <!-- Mobile View-->
    <meta name="viewport" content="user-scalable=yes, width=device-width, initial-scale=1.0" />

    <meta name="distribution" content="global">
    <meta name="rating" content="general">
    <meta name="author" content="WebAD">
    <meta name="publisher" content="WebAD">
    <meta name="copyright" content="Â© WebAD Team 2018">

    <meta name="resource-type" content="document">
    <meta name="application-name" content="WebAD">
    <meta name="msapplication-tooltip" content="WebAD Website">
    <meta name="msapplication-window" content="width=1024;height=768">
</head>

<script>
    var vec = undefined;

    function _create() {
        vec = new Vector();
        var c1 = document.getElementById("container1");
        vec.view.initStage(c1);

        vec.example();
        resetFields();
        zoomIn();
        zoomIn();
    }


    function resetFields() {
        $("#col1").val(vec.col1);
        $("#col2").val(vec.col2);
        $("#col3").val(vec.col3);
        $("#col4").val(vec.col4);
        $("#col5").val(vec.col5);

        var sp = $("#speed");
        sp.val(vec.speed);

        if (parseInt(sp.val()) !=0)
            document.getElementById('alertbox').style.visibility='hidden';
    }

    function speed() {

        if (vec != undefined && vec.size() > 0) {
            var sp = $("#speed");
            vec.speed = parseInt(sp.val());
            vec.saveInDB();
            
            if(vec.speed===0){
                document.getElementById('alertbox').style.visibility='visible';
                $('#alertbox').addClass('alert-box2-manuel').removeClass(' col-md-5 alert-box-manuel');
                $('#alertbox').text('Manual Mode');
            }else if(vec.speed > 20){
                $('#alertbox').addClass('col-md-5 alert-box-manuel').removeClass('col-md-3 alert-box2-manuel');
                $('#alertbox').text('Allowed values from 0 to 10.');
                document.getElementById('alertbox').style.visibility='visible';
            }else{
                document.getElementById('alertbox').style.visibility='hidden';
            }
            
        }else {
            alert("No vector created!");
            resetFields();
        }
    }


    function col1() {
        if (vec != undefined && vec.size() > 0) {
            var col1 = $("#col1");
            vec.col1 = col1.val();
            vec.setColorsQuicksort();
            vec.draw();
            vec.saveInDB();
        } else {
            alert("No vector created!");
            resetFields();
        }
    }

    function col2() {
        if (vec != undefined && vec.size() > 0) {
            var col2 = $("#col2");
            vec.col2 = col2.val();
            vec.setColorsQuicksort();
            vec.draw();
            vec.saveInDB();
        } else {
            alert("No vector created!");
            resetFields();
        }
    }

    function col3() {
        if (vec != undefined && vec.size() > 0) {
            var col3 = $("#col3");
            vec.col3 = col3.val();
            vec.setColorsQuicksort();
            vec.draw();
            vec.saveInDB();
        } else {
            alert("No vector created!");
            resetFields();
        }
    }

    function col4() {
        if (vec != undefined && vec.size() > 0) {
            var col4 = $("#col4");
            vec.col4 = col4.val();
            vec.setColorsQuicksort();
            vec.draw();
            vec.saveInDB();
        } else {
            alert("No vector created!");
            resetFields();
        }
    }

    function col5() {
        if (vec != undefined && vec.size() > 0) {
            var col5 = $("#col5");
            vec.col5 = col5.val();
            vec.setColorsQuicksort();
            vec.draw();
            vec.saveInDB();
        } else {
            alert("No vector created!");
            resetFields();
        }
    }

    function clearTimes() {
        var elem = $("#p");
        elem.removeClass("p1");
        vec.paused = true;
        //[30]
        var pids = window.setTimeout(function () {}, 0);

        while (pids--) {
            window.clearTimeout(pids);
        }
    }

    function create() {
        clearTimes();

        if (vec.getElementsByPrompt()) {
            var elem = $("#p");
            elem.addClass("p1");
            changeTextToPlayModus(false);
            resetFields();
            zoomIn(); zoomIn(); zoomIn();
        }
       
        }

    function rand() {
        clearTimes();

        vec.setRandomElements();
        var elem = $("#p");
        elem.addClass("p1");
        resetFields();
        changeTextToPlayModus(false);
    }

    function pre() {
        if(vec.speed === 0){
            changeTextToPlayModus(true);
        }
        clearTimes();
	    vec.prev();
        resetFields();
    }

    function next() {
        if (vec.speed === 0 ){
            un_pause();
        }else{
            clearTimes();
            vec.next();
        }
        resetFields();
    }

    function first() {
        clearTimes();
        vec.firstState();
        resetFields();
    }

    function last() {
        clearTimes();
        vec.lastState();
        resetFields();
    }

    function un_pause() {
        if (vec != undefined && vec.size() > 0) {
            if (vec.finished != true) {
                var elem = $("#p");
                if (elem.hasClass("p1")) {
                    clearTimes();
                    changeTextToPlayModus(true);
                } else {
                    vec.paused = false;
                    vec.quicksort();
                    elem.addClass("p1");

                    if (vec.speed != 0)
                        changeTextToPlayModus(false);
                }
            }

        } else
            alert("No vector created!");
    }
    
    function changeTextToPlayModus(isPlayModus){
        var btnElement = document.getElementById("p");        
        var iconElement = document.getElementById("iconPlayPause");
        if(isPlayModus){
            btnElement.innerHTML = " <i class='fa fa-play-circle-o fa-lg'></i> Play"
        }else {
                btnElement.innerHTML = " <i class='fa fa-pause fa-lg'></i> Stop"
        }
    }
    
    function zoomIn() {
        vec.view.zoomIn();
    }

    function zoomOut() {
        vec.view.zoomOut();
    }

</script>

<body class="page-container-bg-solid page-md" style="background: #eff3f8;" onload="_create(); zoomIn();">
    <div class="page-container">
        <div class="page-content-wrapper">
            <div class="page-header navbar-white" style="background: #eff3f8; height: fit-content;">
                <!-- BEGIN HEADER MENU -->
                <div class="page-header-menu navbar-white">
                    <div class="container navbar-white">
                        <div class="hor-menu  hor-menu-light">
                            <div id="navPlaceholder">
                                <script src="../../layout/assets/global/scripts/nav-menu.js" type="text/javascript"></script>
                            </div>
                        </div>
                        <!-- END MEGA MENU -->
                    </div>
                </div>
                <!-- END HEADER MENU -->
                <!-- <%--Top Header--%> -->
                <div id="logo_minDevice" class="page-header-top">
                    <div class="container">
                        <div class="page-logo" style="/*width: 400px!important; */height: auto;">
                            <div class="row">
                                <div class="col-md-11">
                                </div>
                                <a href="../home/index.html">
                                    <div class="col-md-1 logo logo-margin-top">
                                    </div>
                                </a>
                            </div>
                        </div>
                        <a href="javascript:;" class="menu-toggler" ></a>
                        <div class="top-menu">
                        </div>
                    </div>
                    <div class="container pull-center">
                    </div>
                </div>
                <!-- end top header -->
            </div>
            <!-- END HEADER MENU -->
            <!-- <%--content--%> -->
            <div class="page-content" style="padding-top: 0;">
                <div class="container">
                </div>
                <div class="container">

                    <div class="page-content-inner inner-conent-padding-top" style="background:white">
                        <!-- Conent WEB AD -->
                        <div class="tab-pane active" id="form_1">
                            <div class="portlet box blue">
                                <div class="portlet-title">
                                    <div class="caption">
                                        <i class="fa fa-gift"></i>Quick Sort</div>
                                    <div class="tools">
                                        <a href="javascript:;" class="collapse" data-original-title="" title=""> </a>
                                        <a href="#" data-toggle="modal" data-target="#modalConfig" class="fa fa-wrench" title="Configuration" style="color:white"></a>
                                        <a href="#" data-toggle="modal" data-target="#modalInfo" class="fa fa-info-circle" title="Information" style="color:white"></a>
                                    </div>
                                </div>
                                <div class="portlet-body form" style="display: block;">
                                    <!-- BEGIN FORM-->
                                    <div class="form-body">
                                        <!--/row-->
                                        <div class="row" id="options_desktop">
                                            <div class="col-md-1">
                                                <button type="button" class="btn blue disabled">Options</button>
                                            </div>
                                            <div class="col-md-10">
                                                <button type="button" class="btn blue btn-outline" id="rand" onclick="rand();return false;">Generate Random</button>
                                                <button type="button" class="btn blue btn-outline" id="add" onclick="create();return false;">Enter Manually</button>
                                            </div>
                                        </div>
                                        <!--/row-->
                                        <div class="row" id="options_minDevice">
                                            <div class="col-md-12">
                                                <div class="dropdown">
                                                    <button class="btn blue dropdown-toggle" type="button" data-toggle="dropdown">Options
                                                        <span class="caret"></span></button>
                                                    <ul class="dropdown-menu">
                                                        <li><button type="button" class="btn blue btn-outline btn-block" id="rand" onclick="rand();return false;">Generate Random</button></li>
                                                        <li><button type="button" class="btn blue btn-outline btn-block" id="add" onclick="create();return false;">Enter Manually</button></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div id="container1" class="col-md-12 inner-content-container1">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-actions right">
                                        <div class="row">
                                            <div class="col-md-1">
                                            </div>
                                            <div class="col-md-6 text-center">
                                                <button type="button" class="btn blue" id="first" onclick="first();return false;">
                                            <i class="fa fa-fast-backward fa-lg"></i><span class="btn-recorder">First</span></button>
                                                <button type="button" class="btn blue" id="prev" onclick="pre();return false;">
                                            <i class="fa fa-backward fa-lg"></i><span class="btn-recorder">Previous</span></button>
                                                <button type="button" class="btn blue" id="p" onclick="un_pause();return false;">
                                            <i id="iconPlayPause" class="fa fa-play-circle-o fa-lg"></i><span class="btn-recorder">Play</span></button>
                                                <button type="button" class="btn blue" id="next" onclick="next();return false;">
                                            <i class="fa fa-forward fa-lg"></i><span class="btn-recorder">Next</span></button>
                                                <button type="button" class="btn blue" id="last" onclick="last();return false;">
                                            <i class="fa fa-fast-forward fa-lg"></i><span class="btn-recorder">Last</span></button>
                                            </div>
                                            <div class="col-md-1">
                                            </div>
                                            <div class="col-md-4 text-center">
                                                <button type="button" class="btn green" onclick="zoomOut();return false;">
                                            <i class="fa fa-search-minus fa-lg"></i><span class="btn-zoom">Zoom Out</span></button>
                                                <button type="button" class="btn green" onclick="zoomIn();return false;">
                                            <i class="fa fa-search-plus fa-lg"></i><span class="btn-zoom">Zoom In</span></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- END FORM-->
                            </div>
                        </div>
                    </div>
                    <div class="footer">
                        <div class="container">
                            webAD is a web-based system designed for simple and intuitive learning of Algorithms and Datastrures. For further questions
                            please contact:
                            <a href="mailto:begy.volodimir@gmail.com">begy.volodimir@gmail.com</a>
                        </div>
                        <div id="return-to-top" class="scroll-to-top" title="return to top">
                            <i id="top-arrow"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- BEGIN MODAL -->
    <div id="modalInfo" class="modal fade" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Info</h4>
                </div>
                <div class="modal-body">
                    Legend: elements within the sorting range smaller than pivot are blue (1), greater are red (2), equal to and the pivot itself
                    are purple (3). Sorted elements are yellow (4). Elements out of sorting range are grey (5).
                    <br>
                    <br> Quicksort is a comparison sort, meaning that it can sort items of any type for which a "less-than"
                    relation (formally, a total order) is defined. In efficient implementations it is not a stable sort,
                    meaning that the relative order of equal sort items is not preserved. Quicksort can operate in-place
                    on an array, requiring small additional amounts of memory to perform the sorting. Mathematical analysis
                    of quicksort shows that, on average, the algorithm takes O(n log n) comparisons to sort n items. In the
                    worst case, it makes O(n^2) comparisons, though this behavior is rare. [18]
                    <div>[18]:<a href="http://en.wikipedia.org/wiki/Quicksort" target="_blank">http://en.wikipedia.org/wiki/Quicksort</a></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- END MOAL -->
    <!-- BEGIN MODAL -->
    <div id="modalConfig" class="modal fade" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Config</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label col-md-4">Animation speed:</label>
                                <div class="col-md-2">
                                    <input type="number" class="input-control" name="speed" style="width:40px" id="speed" min="0" max="20" step="1" value="10"
                                        onchange="speed();return false;">
                                </div>
                                <label id="alertbox" class="control-label col-md-5 alert-box-manuel" style="margin-top:5px;"></label>
                            </div>
                        </div>
                    </div>
                    <div class="row padding-top-color-row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label col-md-4">Color(1):</label>
                                <div class="col-md-8">
                                    <input type="color" class="input-control" name="col1" id="col1" onchange="col1();return false;">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row padding-top-color-row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label col-md-4">Color(2):</label>
                                <div class="col-md-8">
                                    <input type="color" class="input-control" name="col2" id="col2" onchange="col2();return false;">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row padding-top-color-row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label col-md-4">Color(3):</label>
                                <div class="col-md-8">
                                    <input type="color" class="input-control" name="col3" id="col3" onchange="col3();return false;">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row padding-top-color-row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label col-md-4">Color(4):</label>
                                <div class="col-md-8">
                                    <input type="color" class="input-control" name="col4" id="col4" onchange="col4();return false;">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row padding-top-color-row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label col-md-4">Color(5):</label>
                                <div class="col-md-8">
                                    <input type="color" class="input-control" name="col5" id="col5" onchange="col5();return false;">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" style="padding-top:10px;">
                        <div class="col-md-12">
                            For manual mode set animation speed to 0. In manual mode click "Next" to coninue animation for one step. Click "Next" until
                            animation ends or set animation speed back to automatic mode (speed from 1 to 20) and let it
                            end automatically.
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- END MOAL -->
</body>

</html>