<!DOCTYPE html>
<html lang="en">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!-- Chrome, Firefox OS and Opera -->
<meta name="theme-color" content="#0063A6">
<!-- Windows Phone -->
<meta name="msapplication-navbutton-color" content="#0063A6">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-status-bar-style" content="#0063A6">

<!--[if !IE]><!-->
<title>WebAD 2.0 &#9829; </title>
<!--<![endif]-->

<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<!-- Chrome, Firefox OS and Opera -->
	<meta name="theme-color" content="#0063A6">
	<!-- Windows Phone -->
	<meta name="msapplication-navbutton-color" content="#0063A6">
	<!-- iOS Safari -->
	<meta name="apple-mobile-web-app-status-bar-style" content="#0063A6">

	<!-- BEGIN WEBAD STYLES -->
	<link href="../../styles/imgRD.css" rel="stylesheet" type="text/css" />
	<link href="../../styles/styleRD.css" rel="stylesheet" type="text/css" />
	<!-- END WEBAD STYLES -->
	<link href="../../layout/assets/global/css/components-md.css" id="style_components" rel="stylesheet" type="text/css" />
	<link href="../../layout/assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link href="../../layout/assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
	<link href="../../layout/assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css"
		media="screen" />

	<!-- BEGIN THEME LAYOUT STYLES -->
	<link href="../../layout/css/layout.min.css" rel="stylesheet" type="text/css" />
	<link href="../../layout/css/themes/blue-steel.min.css" rel="stylesheet" type="text/css" />
	<!-- END THEME LAYOUT STYLES -->
	<link href="../../layout/css/adaptResponsive.css" rel="stylesheet" type="text/css" />

	<script src="../../layout/Jquery/js/Framework/jquery-1.11.0.min.js"></script>
	<script src="../../layout/assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="../../layout/Jquery/js/UI/jquery-ui-1.11.4/jquery-ui.min.js" type="text/javascript"></script>

	<script src="../../layout/assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js" type="text/javascript"></script>

	<script src="../../layout/assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>

	<!-- BEGIN THEME GLOBAL SCRIPTS -->
	<script src="../../layout/assets/global/scripts/app.min.js" type="text/javascript"></script>
	<!-- END THEME GLOBAL SCRIPTS -->
	<!-- BEGIN THEME LAYOUT SCRIPTS -->
	<script src="../../layout/assets/scripts/layout.min.js" type="text/javascript"></script>
	<script src="../../layout/assets/global/scripts/quick-sidebar.min.js" type="text/javascript"></script>

	<script src="../../layout/assets/scripts/resize-container.js" type="text/javascript"></script>
	<script src="../../libs/externalLibs/kinetic-v5.1.0.min.js"></script>
	<script src="../../libs/views/trees/traversalView.js"></script>
	<script src="../../libs/models/trees/traversalModel.js"></script>
	<!-- END THEME LAYOUT SCRIPTS -->


	<!-- END JAVASCRIPTS -->

	<!-- Mobile View-->
	<meta name="viewport" content="user-scalable=yes, width=device-width, initial-scale=1.0" />

	<meta name="distribution" content="global">
	<meta name="rating" content="general">
	<meta name="author" content="WebAD">
	<meta name="publisher" content="WebAD">
	<meta name="copyright" content="Â© WebAD Team 2017">

	<meta name="resource-type" content="document">
	<meta name="application-name" content="WebAD">
	<meta name="msapplication-tooltip" content="WebAD Website">
	<meta name="msapplication-window" content="width=1024;height=768">
</head>

<script>
	var tree=undefined;
	var oldColor = "red"; // farbe wird nicht weiter beruesichtigt
	
		function init(){
			var c1 = document.getElementById("container1");
			tree = new BinTree();
			tree.view.initStage(c1);
		}
		
		function example(){
			tree.example();
		}
	
		function clearTimes(){
			var pids = window.setTimeout(function() {}, 0);

			while (pids--) {
	    		window.clearTimeout(pids); 
			}
		}
	
	function preorder(){
		if (running == "") {
			var btn = document.getElementById("preorder");
			//var oldColor = btn.style.backgroundColor;
			// btn.style.backgroundColor = "red";
			if (tree.speed != 0) {
				clearTimes();
				var elem = $("#p");
				elem.addClass("p1");
			}
			tree.preorder(btn, oldColor);
		}
	}
	
	function postorder(){
		if (running == "") {
			var btn = document.getElementById("postorder");
			// var oldColor = btn.style.backgroundColor;
			// btn.style.backgroundColor = "red";
			if (tree.speed != 0) {
				clearTimes();
				var elem = $("#p");
				elem.addClass("p1");
			}
			tree.postorder(btn, oldColor);
		}
		
	}
	
	function inorder(){
		if (running == "") {
			var btn = document.getElementById("inorder");
			// var oldColor = btn.style.backgroundColor;
			// btn.style.backgroundColor = "red";
			if (tree.speed != 0) {
				clearTimes();
				var elem = $("#p");
				elem.addClass("p1");
			}
			tree.inorder(btn, oldColor);
		}	
	}
	
	function createExp(){
		// document.getElementById("preorder").style.backgroundColor = document.getElementById("random").style.backgroundColor;
		// document.getElementById("postorder").style.backgroundColor = document.getElementById("random").style.backgroundColor;
		// document.getElementById("inorder").style.backgroundColor = document.getElementById("random").style.backgroundColor;
		clearTimes();
		tree.createExp();
	}
	
	function random(){
		// document.getElementById("preorder").style.backgroundColor = document.getElementById("random").style.backgroundColor;
		// document.getElementById("postorder").style.backgroundColor = document.getElementById("random").style.backgroundColor;
		// document.getElementById("inorder").style.backgroundColor = document.getElementById("random").style.backgroundColor;
		clearTimes();
		tree.random();
		changeTextToPlayModus(false);
	}
	
	function speed(){
		if(tree!=undefined){
			var sp = $("#speed");
			tree.speed=parseFloat(sp.val());
			tree.saveInDB();
			
			if(tree.speed===0){
                 document.getElementById('alertbox').style.visibility='visible';
                $('#alertbox').addClass('alert-box2-manuel').removeClass(' col-md-5 alert-box-manuel');
                $('#alertbox').text('Manuel Mode');
			}else{
                document.getElementById('alertbox').style.visibility='hidden';
			}
		}
		else{
			alert("No tree created!");
			resetFields();
		}
	}
	
	function numberRandom(){
		if(tree!=undefined){
			var sp = $("#numberRandom");
			tree.numberRandom=parseFloat(sp.val());
			tree.saveInDB();
		}
		else{
			alert("No tree created!");
			resetFields();
		}
	}
	
	function un_pause(){
		if(tree != undefined){
      		var elem = $("#p");
			if(elem.hasClass("p1")){
				clearTimes();
				elem.removeClass("p1");
				changeTextToPlayModus(true);
			}
			else{
				if (running == "pre") {
					var btn = document.getElementById("preorder");
					// var oldColor = document.getElementById("random").style.backgroundColor;
					if (lastStep == "two" || lastStep == "three" || lastStep == "left" || lastStep == "right")
						marker = marker + 1;
					tree.preorder(btn, oldColor);
					elem.addClass("p1");
				}
				if (running == "post") {
					var btn = document.getElementById("postorder");
					// var oldColor = document.getElementById("random").style.backgroundColor;
					if (lastStep == "four") {
						marker = marker + 1;
						hj = hj + 1;
					}
					tree.postorder(btn, oldColor); 
					elem.addClass("p1");
				}
				if (running == "in" ) {
					var btn = document.getElementById("inorder");
					// var oldColor = document.getElementById("random").style.backgroundColor;
					if (lastStep == "two" || lastStep == "four") 
						marker = marker + 1;
					if (lastStep == "four") 
						hj = hj + 1;
					tree.inorder(); 
					elem.addClass("p1");
				}
				changeTextToPlayModus(false);
			}
		}
		else
			alert("No tree created!");
	}
	
	function changeTextToPlayModus(isPlayModus){
         var btnElement = document.getElementById("p");        
         var iconElement = document.getElementById("iconPlayPause");
        if(isPlayModus){
            btnElement.innerHTML = " <i class='fa fa-play-circle-o fa-lg'></i> Play"
        }else {
              btnElement.innerHTML = " <i class='fa fa-pause fa-lg'></i> Stop"
        }
    }
	
	function lockoutSubmit(button) {
		button.style.visibility = "hidden";
		button.color = "blue";
		
		setTimeout(function(){
			button.style.visibility = "visible";
		}, 1000+tree.speed)
}
	
	function pre(){
	//	clearTimes();
	//	tree.prev();
	}
	
	function next(){
		if (tree.speed == 0 && lastStep != "") {
			if (running == "pre") {
				var btn = document.getElementById("preorder");
				// var oldColor = document.getElementById("random").style.backgroundColor;
				tree.preorder(btn, oldColor);
			}	
			if (running == "post") {
				var btn = document.getElementById("postorder");
				// var oldColor = document.getElementById("random").style.backgroundColor;
				tree.postorder(btn, oldColor);
			}
			if (running == "in") {
				var btn = document.getElementById("inorder");
				// var oldColor = document.getElementById("random").style.backgroundColor;
				tree.inorder(btn, oldColor);
			}
		}
		changeTextToPlayModus(true);		
	}
	
	function first(){
	//	clearTimes();
	//	tree.firstState();
	}
	
	function last(){
	//	clearTimes();
	//	tree.lastState();
	}
	
	function zoomIn(){
     	tree.view.zoomIn();
	}
	
	function zoomOut(){
     	tree.view.zoomOut();
	}

</script>

<body class="page-container-bg-solid page-md" style="background: #eff3f8;" onload="init();example();return false;">
	<div class="page-container">
		<div class="page-content-wrapper">
			<div class="page-header navbar-white" style="background: #eff3f8; height: fit-content;">
				<!-- BEGIN HEADER MENU -->
				<div class="page-header-menu navbar-white">
					<div class="container navbar-white">
						<div class="hor-menu  hor-menu-light">
							<div id="navPlaceholder">
								<script src="../../layout/assets/global/scripts/nav-menu.js" type="text/javascript"></script>
							</div>
						</div>
						<!-- END MEGA MENU -->
					</div>
				</div>
				<!-- END HEADER MENU -->
				<!-- <%--Top Header--%> -->
				<div id="logo_minDevice" class="page-header-top">
					<div class="container">
						<div class="page-logo" style="/*width: 400px!important; */height: auto;">
							<div class="row">
								<div class="col-md-11">
								</div>
								 <a href="../home/index.html" >
                                   <div class="col-md-1 logo logo-margin-top">                                    
                                   </div>
                                </a>
							</div>
						</div>
						<a href="javascript:;" class="menu-toggler"></a>
						<div class="top-menu">

						</div>
					</div>
					<div class="container pull-center">
					</div>
				</div>
				<!-- end top header -->

			</div>
			<!-- END HEADER MENU -->
			<!-- <%--content--%> -->
			<div class="page-content" style="padding-top: 0;">
				<div class="container">
				</div>
				<div class="container">

					<div class="page-content-inner inner-conent-padding-top" style="background:white">
						<!-- Conent WEB AD -->
						<div class="tab-pane active" id="form_1">
							<div class="portlet box blue">
								<div class="portlet-title">
									<div class="caption">
										<i class="fa fa-gift"></i>Traversal</div>
									<div class="tools">
										<a href="javascript:;" class="collapse" data-original-title="" title=""> </a>
										<a href="#" data-toggle="modal" data-target="#modalConfig" class="fa fa-wrench" title="Config" style="color:white"></a>
										<a href="#" data-toggle="modal" data-target="#modalInfo" class="fa fa-info-circle" data-original-title="" title="Information"
											style="color:white"></a>
									</div>
								</div>
								<div class="portlet-body form" style="display: block;">
									<!-- BEGIN FORM-->
									<div class="form-body">
										<!--/row-->
										<div class="row" id="options_desktop">
											<div class="col-md-1">
												<button type="button" class="btn blue disabled">Options</button>
											</div>
											<div class="col-md-10">
												<button type="button" class="btn blue btn-outline" id="random" onclick="random();return false;"></i>Generate Random Numeric</button>
												<button type="button" class="btn blue btn-outline" id="createExp" onclick="createExp() ;return false;"></i>Create Expression</button>
												<button type="button" class="btn blue btn-outline" id="preorder" onclick="preorder(this);return false;"></i>Preorder Traversal</button>
												<button type="button" class="btn blue btn-outline" id="postorder" onclick="postorder(this);return false;"></i>Postorder Traversal</button>
												<button type="button" class="btn blue btn-outline" id="inorder" onclick="inorder(this);return false;"></i>Inorder Traversal</button>
											</div>
										</div>
										<!--/row-->
										<div class="row" id="options_minDevice">
											<div class="col-md-12">
												<div class="dropdown">
													<button class="btn blue dropdown-toggle" type="button" data-toggle="dropdown">Options
                                                        <span class="caret"></span></button>
													<ul class="dropdown-menu">
														<li><button type="button" class="btn blue btn-outline btn-block" id="random" onclick="random();return false;"></i>Generate Random Numeric</button></li>
														<li><button type="button" class="btn blue btn-outline btn-block" id="createExp" onclick="createExp() ;return false;"></i>Create Expression</button></li>
														<li><button type="button" class="btn blue btn-outline btn-block" id="preorder" onclick="preorder(this);return false;"></i>Preorder Traversal</button></li>
														<li><button type="button" class="btn blue btn-outline btn-block" id="postorder" onclick="postorder(this);return false;"></i>Postorder Traversal</button></li>
														<li><button type="button" class="btn blue btn-outline btn-block" id="inorder" onclick="inorder(this);return false;"></i>Inorder Traversal</button></li>
													</ul>
												</div>
											</div>
										</div>

										<div class="row">
											<div id="container1" class="col-md-12 inner-content-container1">
											</div>
										</div>
									</div>
									<div class="form-actions right">
										<div class="row">
											<div class="col-md-1">
											</div>
											<div class="col-md-6 text-center">
												<button type="button" class="btn blue disabled" id="first" onclick="first();return false;" title="function unsupported">
                                            <i class="fa fa-fast-backward fa-lg"></i><span class="btn-recorder">First</span></button>
												<button type="button" class="btn blue disabled" id="prev" onclick="pre();return false;" title="function unsupported">
                                            <i class="fa fa-backward fa-lg"></i><span class="btn-recorder">Previous</span></button>
												<button type="button" class="btn blue" id="p" onclick="un_pause(); lockoutSubmit(this); return false;">
                                            <i class="fa fa-pause fa-lg"></i><span class="btn-recorder">Stop</span></button>
												<button type="button" class="btn blue" id="next" onclick="next();return false;" title="function unsupported">
                                            <i class="fa fa-forward fa-lg"></i><span class="btn-recorder">Next</span></button>
												<button type="button" class="btn blue disabled" id="last" onclick="last();return false;" title="function unsupported">
                                            <i class="fa fa-fast-forward fa-lg"></i><span class="btn-recorder">Last</span></button>
											</div>
											<div class="col-md-1">
											</div>
											<div class="col-md-4 text-center">
												<button type="button" class="btn green" onclick="zoomOut();return false;">
                                            <i class="fa fa-search-minus fa-lg"></i><span class="btn-zoom">Zoom Out</span></button>
												<button type="button" class="btn green" onclick="zoomIn();return false;">
                                            <i class="fa fa-search-plus fa-lg"></i><span class="btn-zoom">Zoom In</span></button>
											</div>
										</div>
									</div>
								</div>
								<!-- END FORM-->
							</div>
						</div>
					</div>
					<div class="footer">
						<div class="container">
							webAD is a web-based system designed for simple and intuitive learning of Algorithms and Datastrures.
							 For further questions please contact:
							<a href="mailto:begy.volodimir@gmail.com">begy.volodimir@gmail.com</a>
						</div>
						<div id="return-to-top" class="scroll-to-top" title="return to top">
							<i id="top-arrow"></i>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- BEGIN MODAL -->
	<div id="modalConfig" class="modal fade" role="dialog" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Config</h4>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="col-md-12">
							<div class="form-group">
								<label class="control-label col-md-5">Animation speed in Sek.:</label>
								<select class="form-control col-md-2 input-small" type="number" name="speed" id="speed" onchange="speed();return false;">
									<option value="0">0 (manually)</option>
									<option value="0.25">0.25</option>
									<option value="0.5">0.5</option>
									<option value="0.75">0.75</option>
									<option value="1" selected="selected">1</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
								</select>
								<label id="alertbox" class="control-label col-md-5 alert-box-manuel" style="margin-top:5px;"></label>
							</div>
							
						</div>
                        <!--<div class="col-md-3">
						</div>-->
					</div>

					<div class="row" style="padding-top:5px;">
						<div class="col-md-12">
							<div class="form-group">
								<label class="control-label col-md-5" title="Number of random generated nodes">Number of random generated nodes:</label>
								<select class="form-control col-md-2 input-small" type="number" name="numberRandom" id="numberRandom" onchange="numberRandom();return false;">
								<option value="" selected="selected">Random</option>
								<option value="1">1</option>
								<option value="2">2</option>
								<option value="3">3</option>
								<option value="4">4</option>
								<option value="5">5</option>
								<option value="6">6</option>
								<option value="7">7</option>
								<option value="8">8</option>
								<option value="9">9</option>
								<option value="10">10</option>
								<option value="11">11</option>
								<option value="12">12</option>
								<option value="13">13</option>
								<option value="14">14</option>
								<option value="15">15</option>
							</select>
								<label class="control-label col-md-5"></label>
							</div>
						</div>
						<!--<div class="col-md-3">
						</div>-->
					</div>

				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
	<!-- </div> -->
	<!-- END MOAL -->
	<!-- BEGIN MODAL -->
	<div id="modalInfo" class="modal fade" role="dialog" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Info</h4>
				</div>
				<div class="modal-body">
					<p>
						Legend:
						<br>
						<li>A grey node is an unvisited node.</li>
						<li>A blue node is a visited node.</li>
						<li>A red node is the node which is being processed right now.</li>
						<li>A green node is a processed node.</li>
						<li>A red line means it is being checked if a childnode exists.</li>
						<br> There are three ways to traverse a binary search tree:
						<br>
						<li>Preorder Traversal: A node is being processed on the first visit. </li>
						<li>Postorder Traversal: A node is being processed on the last visit. This means both of its children have to be already
							processed. </li>
						<li>Inorder Traversal: A node is being processed on the second visit. This means its left child has to be already processed.
						</li>
					</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
	<!-- END MOAL -->
</body>

</html>