<!DOCTYPE html>
<html lang="en">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!-- Chrome, Firefox OS and Opera -->
<meta name="theme-color" content="#0063A6">
<!-- Windows Phone -->
<meta name="msapplication-navbutton-color" content="#0063A6">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-status-bar-style" content="#0063A6">

<!--[if !IE]><!-->
<title>WebAD 2.0 &#9829; </title>
<!--<![endif]-->

<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<!-- Chrome, Firefox OS and Opera -->
	<meta name="theme-color" content="#0063A6">
	<!-- Windows Phone -->
	<meta name="msapplication-navbutton-color" content="#0063A6">
	<!-- iOS Safari -->
	<meta name="apple-mobile-web-app-status-bar-style" content="#0063A6">

	<!-- BEGIN WEBAD STYLES -->
	<link href="../../styles/imgRD.css" rel="stylesheet" type="text/css" />
	<link href="../../styles/styleRD.css" rel="stylesheet" type="text/css" />
	<!-- END WEBAD STYLES -->
	<link href="../../layout/assets/global/css/components-md.css" id="style_components" rel="stylesheet" type="text/css" />
	<link href="../../layout/assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link href="../../layout/assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
	<link href="../../layout/assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css"
		media="screen" />

	<!-- BEGIN THEME LAYOUT STYLES -->
	<link href="../../layout/css/layout.min.css" rel="stylesheet" type="text/css" />
	<link href="../../layout/css/themes/blue-steel.min.css" rel="stylesheet" type="text/css" />
	<!-- END THEME LAYOUT STYLES -->
	<link href="../../layout/css/adaptResponsive.css" rel="stylesheet" type="text/css" />

	<script src="../../layout/Jquery/js/Framework/jquery-1.11.0.min.js"></script>
	<script src="../../layout/assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="../../layout/Jquery/js/UI/jquery-ui-1.11.4/jquery-ui.min.js" type="text/javascript"></script>

	<script src="../../layout/assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js" type="text/javascript"></script>

	<script src="../../layout/assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>

	<!-- BEGIN THEME GLOBAL SCRIPTS -->
	<script src="../../layout/assets/global/scripts/app.min.js" type="text/javascript"></script>
	<!-- END THEME GLOBAL SCRIPTS -->
	<!-- BEGIN THEME LAYOUT SCRIPTS -->
	<script src="../../layout/assets/scripts/layout.min.js" type="text/javascript"></script>
	<script src="../../layout/assets/global/scripts/quick-sidebar.min.js" type="text/javascript"></script>
	<!-- END THEME LAYOUT SCRIPTS -->

	<script src="../../layout/assets/scripts/resize-container.js" type="text/javascript"></script>
	<script src="../../libs/externalLibs/kinetic-v5.1.0.min.js"></script>
	<script src="../../libs/views/trees/heap.js"></script>
	<script src="../../libs/models/trees/heap.js"></script>
	<!-- END JAVASCRIPTS -->

	<!-- Mobile View-->
	<meta name="viewport" content="user-scalable=yes, width=device-width, initial-scale=1.0" />

	<meta name="distribution" content="global">
	<meta name="rating" content="general">
	<meta name="author" content="WebAD">
	<meta name="publisher" content="WebAD">
	<meta name="copyright" content="Â© WebAD Team 2017">

	<meta name="resource-type" content="document">
	<meta name="application-name" content="WebAD">
	<meta name="msapplication-tooltip" content="WebAD Website">
	<meta name="msapplication-window" content="width=1024;height=768">
</head>

<script>
	var heap = undefined;
		
		function init(){
			var c1 = document.getElementById("container1");
			heap=new Heap();
			heap.init();
			heap.view.initStage(c1);
			resetFields();
		}
		
		function example(){
			heap.exampleSort();
		}
	
		function clearTimes(){
			//[30]
			var pids = window.setTimeout(function() {}, 0);

			while (pids--) {
	    		window.clearTimeout(pids); 
			}
		}
	
	function un_pause(){
		if(heap!=undefined && heap.timer!=undefined && 
				heap.nodes.length>0){
	     	var elem = $("#p");
			if(elem.hasClass("p1")){
				changeTextToPlayModus(true);
				heap.timer.pause();
				elem.removeClass("p1");
			}
			else{
				changeTextToPlayModus(false);
				heap.timer.resume();
				elem.addClass("p1");
			}
		}
	}
	
	function changeTextToPlayModus(isPlayModus){
         var btnElement = document.getElementById("p");        
         var iconElement = document.getElementById("iconPlayPause");
        if(isPlayModus){
            btnElement.innerHTML = " <i class='fa fa-play-circle-o fa-lg'></i> Play"
        }else {
              btnElement.innerHTML = " <i class='fa fa-pause fa-lg'></i> Stop"
        }
    }
	
	function heapsort(){
		if(heap.getElementsByPrompt()){
			clearTimes();
			var elem = $("#p");
			elem.addClass("p1");
			changeTextToPlayModus(true);
		}
	}
	
	function randomHeapsort(){
		clearTimes();
		heap.randomHeapsort();
		var elem = $("#p");
		elem.addClass("p1");
		changeTextToPlayModus(false);
		resetFields();
	}
	
	function pre(){
		if(heap.db.length>0){
			if(heap.timer!=undefined){
				heap.timer.pause();
			}
			var elem = $("#p");
			elem.removeClass("p1");
			heap.prev();
			heap.working=false;
			resetFields();
		}
	}

	var isfirstManual = false;
	function next(){
		
		if(heap.speed === 0 && heap.continueAnimation
			&& !isfirstManual){
			heap.continueAnimation = false;
			heap.next();
		}else if (heap.speed === 0 && !heap.continueAnimation
		&& !isfirstManual) // running and manual speed
		{
			heap.timer.resume();
			heap.continueAnimation = true;
		}else if(heap.db.length>0 && heap.actStateID!=heap.db.length-1){
			if(heap.timer!=undefined){
				heap.timer.pause();
				heap.working=false;
			}
			if(heap.speed != 0){
				var elem = $("#p");
			elem.removeClass("p1");
			heap.next();
			}
		}
		resetFields();

		if(isfirstManual && heap.speed == 0){
				
				heap.timer.resume();
				isfirstManual = false;
		}
	}
	
	function first(){
		if(heap.db.length>0){
			if(heap.timer!=undefined){
				heap.timer.pause();
				heap.working=false;
			}
			var elem = $("#p");
			elem.removeClass("p1");
			heap.firstState();
		}
	}
	
	function last(){
		if(heap.db.length>0 && heap.actStateID!=heap.db.length-1){
			if(heap.timer!=undefined){
				heap.timer.pause();
				heap.working=false;
			}
			var elem = $("#p");
			elem.removeClass("p1");
			heap.lastState();
		}
	}
	
	function resetFields(){
		var sp =$("#speed");
		sp.val(heap.speed);
	}
	
	function speed(){
		if(heap.root!=undefined){
			var sp = $("#speed");
			var speedv = parseInt(sp.val());
			if(speedv >=0 && speedv <=10){
				heap.speed = speedv;
				document.getElementById('alertbox').style.visibility='hidden';
			}
			
			if(speedv===0){
				isfirstManual = true;
				changeTextToPlayModus(false);
				
                 document.getElementById('alertbox').style.visibility='visible';
                $('#alertbox').addClass('alert-box2-manuel').removeClass(' col-md-5 alert-box-manuel');
                $('#alertbox').text('Manual Mode');
			}else if(speedv > 10){
                $('#alertbox').addClass('col-md-5 alert-box-manuel').removeClass('col-md-3 alert-box2-manuel');
                $('#alertbox').text('Allowed values from 0 to 10.');
                 document.getElementById('alertbox').style.visibility='visible';
            }else{
				isfirstManual = false;
				changeTextToPlayModus(true);
                document.getElementById('alertbox').style.visibility='hidden';
            }
		}
		else{
			alert("No heap created!");
			resetFields();
		}
	}
	
	function zoomIn(){
     	heap.view.zoomIn();
	}
	
	function zoomOut(){
     	heap.view.zoomOut();
	}

</script>

<body class="page-container-bg-solid page-md" style="background: #eff3f8;" onload="init();example();return false;">
	<div class="page-container">
		<div class="page-content-wrapper">
			<div class="page-header navbar-white" style="background: #eff3f8; height: fit-content;">
				<!-- BEGIN HEADER MENU -->
				<div class="page-header-menu navbar-white">
					<div class="container navbar-white">
						<div class="hor-menu  hor-menu-light">
							<div id="navPlaceholder">
								<script src="../../layout/assets/global/scripts/nav-menu.js" type="text/javascript"></script>
							</div>
						</div>
						<!-- END MEGA MENU -->
					</div>
				</div>
				<!-- END HEADER MENU -->
				<!-- <%--Top Header--%> -->
				<div id="logo_minDevice" class="page-header-top">
					<div class="container">
						<div class="page-logo" style="/*width: 400px!important; */height: auto;">
							<div class="row">
								<div class="col-md-11">
								</div>
								 <a href="../home/index.html" >
                                   <div class="col-md-1 logo logo-margin-top">                                    
                                   </div>
                                </a>
							</div>
						</div>
						<a href="javascript:;" class="menu-toggler"></a>
						<div class="top-menu">

						</div>
					</div>
					<div class="container pull-center">
					</div>
				</div>
				<!-- end top header -->

			</div>
			<!-- END HEADER MENU -->
			<!-- <%--content--%> -->
			<div class="page-content" style="padding-top: 0;">
				<div class="container">
				</div>
				<div class="container">

					<div class="page-content-inner inner-conent-padding-top" style="background:white">
						<!-- Conent WEB AD -->
						<div class="tab-pane active" id="form_1">
							<div class="portlet box blue">
								<div class="portlet-title">
									<div class="caption">
										<i class="fa fa-gift"></i>Heap Sort</div>
									<div class="tools">
										<a href="javascript:;" class="collapse" data-original-title="" title=""> </a>
										<a href="#" data-toggle="modal" data-target="#modalConfig" class="fa fa-wrench" title="Config" style="color:white"></a>
										<a href="#" data-toggle="modal" data-target="#modalInfo" class="fa fa-info-circle" data-original-title="" title="Information" style="color:white"></a>
									</div>
								</div>
								<div class="portlet-body form" style="display: block;">
									<!-- BEGIN FORM-->
									<div class="form-body">
										<!--/row-->
										<div class="row" id="options_desktop">
											<div class="col-md-1">
												<button type="button" class="btn blue disabled">Options</button>
											</div>
											<div class="col-md-10">
												<button type="button" class="btn blue btn-outline" id="enterManually" onclick="heapsort();return false;"></i>Enter Manually</button>
												<button type="button" class="btn blue btn-outline" id="random" onclick="randomHeapsort();return false;"></i>Random</button>
											</div>
										</div>
										<!--/row-->
										<div class="row" id="options_minDevice">
											<div class="col-md-12">
												<div class="dropdown">
													<button class="btn blue dropdown-toggle" type="button" data-toggle="dropdown">Options
                                                        <span class="caret"></span></button>
													<ul class="dropdown-menu">
														<li><button type="button" class="btn blue btn-outline btn-block" id="enterManually" onclick="heapsort();return false;"></i>Enter Manually</button></li>
														<li><button type="button" class="btn blue btn-outline btn-block" id="random" onclick="randomHeapsort();return false;"></i>Random</button></li>
													</ul>
												</div>
											</div>
										</div>

										<div class="row">
											<div id="container1" class="col-md-12 inner-content-container1">
											</div>
										</div>
									</div>
									<div class="form-actions right">
										<div class="row">
											<div class="col-md-1">
											</div>
											<div class="col-md-6 text-center">
												<button type="button" class="btn blue" id="first" onclick="first();return false;">
                                            <i class="fa fa-fast-backward fa-lg"></i><span class="btn-recorder">First</span></button>
												<button type="button" class="btn blue" id="prev" onclick="pre();return false;">
                                            <i class="fa fa-backward fa-lg"></i><span class="btn-recorder">Previous</span></button>
												<button type="button" class="btn blue" id="p" onclick="un_pause();return false;">
                                            <i class="fa fa-play-circle-o fa-lg"></i><span class="btn-recorder">Play</span></button>
												<button type="button" class="btn blue" id="next" onclick="next();return false;">
                                            <i class="fa fa-forward fa-lg"></i><span class="btn-recorder">Next</span></button>
												<button type="button" class="btn blue" id="last" onclick="last();return false;">
                                            <i class="fa fa-fast-forward fa-lg"></i><span class="btn-recorder">Last</span></button>
											</div>
											<div class="col-md-1">
											</div>
											<div class="col-md-4 text-center">
												<button type="button" class="btn green" onclick="zoomOut();return false;">
                                            <i class="fa fa-search-minus fa-lg"></i><span class="btn-zoom">Zoom Out</span></button>
												<button type="button" class="btn green" onclick="zoomIn();return false;">
                                            <i class="fa fa-search-plus fa-lg"></i><span class="btn-zoom">Zoom In</span></button>
											</div>
										</div>
									</div>
								</div>
								<!-- END FORM-->
							</div>
						</div>
					</div>
					<div class="footer">
						<div class="container">
							webAD is a web-based system designed for simple and intuitive learning of Algorithms and Datastrures.
							For further questions please contact:
							<a href="mailto:begy.volodimir@gmail.com">begy.volodimir@gmail.com</a>
						</div>
						<div id="return-to-top" class="scroll-to-top" title="return to top">
							<i id="top-arrow"></i>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<!-- BEGIN MODAL -->
    <div id="modalConfig" class="modal fade" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Config</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label col-md-4">Animation speed:</label>
                                <div class="col-md-2">
                                    <input type="number" class="input-control" name="speed" style="width:40px" id="speed" min="0" max="10" step="1" value="5"
                                        onchange="speed();return false;">
                                </div>
								<label id="alertbox" class="control-label col-md-5 alert-box-manuel" style="margin-top:5px;"></label>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <br/> During animation no other function can be started until animation has ended. Set animation
                            speed to 10 to make animation end the fastest.<br /><br /> Animation can be stopped at any time
                            using the pause button in automatic mode. The pause button will turn into a play button. Resume
                            by pressing the play button.<br /><br /> For manual mode set animation speed to 0. In manual
                            mode click forward to coninue animation for one step. Click forward until animation ends or set
                            animation speed back to automatic mode (speed from 1 to 10) and let it end automatically.
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- </div> -->
    <!-- END MOAL -->
	<!-- BEGIN MODAL -->
	<div id="modalInfo" class="modal fade" role="dialog" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Info</h4>
				</div>
				<div class="modal-body">
					<p>
						In computer programming, heapsort is a comparison-based sorting algorithm. Heapsort can be thought of as an improved selection
						sort: like that algorithm, it divides its input into a sorted and an unsorted region, and it iteratively shrinks the
						unsorted region by extracting the largest element and moving that to the sorted region. The improvement consists of
						the use of a heap data structure rather than a linear-time search to find the maximum.
						<br>Although somewhat slower in practice on most machines than a well-implemented quicksort, it has the advantage of
						a more favorable worst-case O(n log n) runtime. Heapsort is an in-place algorithm, but it is not a stable sort.
						<br>Heapsort was invented by J. W. J. Williams in 1964. This was also the birth of the heap, presented already by Williams
						as a useful data structure in its own right. In the same year, R. W. Floyd published an improved version that could
						sort an array in-place, continuing his earlier research into the treesort algorithm.
						<br><img src="../../images/heapsort.gif" alt="bstimage">[29]
						<div>[29]: <a href="http://en.wikipedia.org/wiki/Heapsort" target="_blank">http://en.wikipedia.org/wiki/Heapsort</a></div>
					</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
	<!-- END MOAL -->
</body>

</html>